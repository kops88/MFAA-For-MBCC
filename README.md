<!-- markdownlint-disable MD033 MD041 -->
<div align="center"><img alt="LOGO" src="https://github.com/SweetSmellFox/MFAAvalonia/blob/master/MFAAvalonia/MFAAvalonia.ico" width="180" height="180" />

# MFAAvalonia

**ğŸš€ æ–°ä¸€ä»£è·¨å¹³å°è‡ªåŠ¨åŒ–æ¡†æ¶å›¾å½¢ç•Œé¢**

_åŸºäº [Avalonia UI](https://github.com/AvaloniaUI/Avalonia)
æ„å»ºçš„ [MaaFramework](https://github.com/MaaXYZ/MaaFramework) é€šç”¨ GUI è§£å†³æ–¹æ¡ˆ_

[![License](https://img.shields.io/github/license/SweetSmellFox/MFAAvalonia?style=flat-square&color=4a90d9)](./LICENSE)
[![.NET](https://img.shields.io/badge/.NET-%E2%89%A5%2010-512BD4?style=flat-square&logo=dotnet)](https://dotnet.microsoft.com/)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-blueviolet?style=flat-square)](https://github.com/SweetSmellFox/MFAAvalonia)
[![Commit Activity](https://img.shields.io/github/commit-activity/m/SweetSmellFox/MFAAvalonia?style=flat-square&color=00d4aa)](https://github.com/SweetSmellFox/MFAAvalonia/commits)
[![Stars](https://img.shields.io/github/stars/SweetSmellFox/MFAAvalonia?style=flat-square&color=ffca28)](https://github.com/SweetSmellFox/MFAAvalonia/stargazers)
[![Mirroré…±](https://img.shields.io/badge/Mirror%E9%85%B1-%239af3f6?style=flat-square&logo=countingworkspro&logoColor=4f46e5)](https://mirrorchyan.com/zh/projects?rid=MFAAvalonia&source=mfaagh-badge)

---

[English](./README_en.md) | **ç®€ä½“ä¸­æ–‡**

</div>

## âœ¨ ç‰¹æ€§äº®ç‚¹

<table>
<tr>
<td width="50%">

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢

- åŸºäº **SukiUI** æ‰“é€ çš„ç²¾ç¾ç•Œé¢
- æ”¯æŒ **äº®è‰²/æš—è‰²** ä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢
- æµç•…çš„åŠ¨ç”»æ•ˆæœä¸äº¤äº’ä½“éªŒ</td>

<td width="50%">

### ğŸŒ çœŸæ­£çš„è·¨å¹³å°

- **Windows** / **Linux** / **macOS** å…¨å¹³å°æ”¯æŒ
- åŸç”Ÿæ€§èƒ½ï¼Œæ— éœ€é¢å¤–è¿è¡Œæ—¶
- ç»Ÿä¸€çš„ç”¨æˆ·ä½“éªŒ

</td>
</tr>
<tr>
<td width="50%">

### âš¡ å¼€ç®±å³ç”¨

- ä¸ MaaFramework é¡¹ç›®æ¨¡æ¿æ·±åº¦é›†æˆ
- ç®€å•é…ç½®å³å¯å¿«é€Ÿéƒ¨ç½²
- æ”¯æŒ Mirroré…± ä¸€é”®æ›´æ–°

</td>
<td width="50%">

### ğŸ”§ é«˜åº¦å¯å®šåˆ¶

- çµæ´»çš„ä»»åŠ¡é…ç½®ç³»ç»Ÿ
- æ”¯æŒå¤šè¯­è¨€å›½é™…åŒ–
- ä¸°å¯Œçš„æ‰©å±•æ¥å£

</td>
</tr>
</table>

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

<p align="center">
  <img alt="preview" src="https://github.com/SweetSmellFox/MFAAvalonia/blob/master/MFAAvalonia/Img/preview.png" width="100%" style="border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);" />
</p>

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

|   ç»„ä»¶    | è¦æ±‚                                           |
|:-------:|:---------------------------------------------|
| **è¿è¡Œæ—¶** | .NET 10.0 æˆ–æ›´é«˜ç‰ˆæœ¬                              |
| **èµ„æº**  | åŸºäº MaaFramework çš„èµ„æºé¡¹ç›®                        |
| **ç³»ç»Ÿ**  | Windows 10+ã€Linux (X11/Wayland)ã€macOS 10.15+ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šè‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰

MaaFramework é¡¹ç›®æ¨¡æ¿å·²å†…ç½® MFAAvaloniaï¼Œåˆ›å»ºé¡¹ç›®æ—¶è‡ªåŠ¨é…ç½®å®Œæˆã€‚

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…
 
<details>
<summary><b>ğŸ“¦ ç‚¹å‡»å±•å¼€å®‰è£…æ­¥éª¤</b></summary>

1. **ä¸‹è½½å‘è¡Œç‰ˆ**

   ä» [Releases](https://github.com/SweetSmellFox/MFAAvalonia/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬å¹¶è§£å‹

2. **å¤åˆ¶èµ„æºæ–‡ä»¶**
   ```
   maafw/assets/resource/* â†’ MFAAvalonia/resource/
   maafw/assets/interface.json â†’ MFAAvalonia/
   ```

3. **é…ç½® interface.json**

   æ ¹æ®ä¸‹æ–¹é…ç½®è¯´æ˜ä¿®æ”¹ `interface.json` æ–‡ä»¶</details>

## âš™ï¸ é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®ç»“æ„

```jsonc
{
  // é¡¹ç›®åŸºæœ¬ä¿¡æ¯
  "name": "é¡¹ç›®åç§°",
  "version": "1.0.0",
  "url": "https://github.com/{ç”¨æˆ·å}/{ä»“åº“å}",
  "custom_title": "è‡ªå®šä¹‰çª—å£æ ‡é¢˜",
  
  // Mirroré…±æ›´æ–°é…ç½®
  "mirrorchyan_rid": "é¡¹ç›®ID",
  "mirrorchyan_multiplatform": false,
  
  // èµ„æºé…ç½®
  "resource": [
    {
      "name": "å®˜æœ",
      "path": "{PROJECT_DIR}/resource/base"
    },
    {
      "name": "Bilibiliæœ",
      "path": [
        "{PROJECT_DIR}/resource/base",
        "{PROJECT_DIR}/resource/bilibili"
      ]
    }
  ],
  
  // ä»»åŠ¡é…ç½®
  "task": [
    {
      "name": "ä»»åŠ¡åç§°",
      "entry": "ä»»åŠ¡å…¥å£",
      "default_check": true,
      "description": "ä»»åŠ¡è¯´æ˜æ–‡æ¡£",
      "repeatable": true,
      "repeat_count": 1
    }
  ]
}
```

### æ§åˆ¶å™¨é…ç½®è¯¦è§£

`controller` ä¸ºå¯¹è±¡æ•°ç»„ï¼Œç”¨äºå£°æ˜æ§åˆ¶å™¨é¢„è®¾ä¸ç±»å‹é…ç½®ï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|:--|:--|:--|
| `name` | string | å”¯ä¸€åç§°æ ‡è¯†ç¬¦ï¼Œç”¨ä½œæ§åˆ¶å™¨ ID |
| `label` | string | æ˜¾ç¤ºåç§°ï¼Œæ”¯æŒå›½é™…åŒ–ï¼ˆä»¥ `$` å¼€å¤´ï¼‰ã€‚æœªè®¾ç½®æ—¶æ˜¾ç¤º `name` |
| `description` | string | è¯¦ç»†æè¿°ï¼Œæ”¯æŒæ–‡ä»¶è·¯å¾„ã€URL æˆ–ç›´æ¥æ–‡æœ¬ï¼Œå†…å®¹æ”¯æŒ Markdownï¼Œæ”¯æŒå›½é™…åŒ– |
| `icon` | string | å›¾æ ‡è·¯å¾„ï¼ˆç›¸å¯¹é¡¹ç›®æ ¹ç›®å½•ï¼‰ï¼Œæ”¯æŒå›½é™…åŒ– |
| `type` | `'Adb' \| 'Win32' \| 'PlayCover'` | æ§åˆ¶å™¨ç±»å‹ |
| `display_short_side` | number | é»˜è®¤ç¼©æ”¾åˆ†è¾¨ç‡çŸ­è¾¹é•¿åº¦ï¼Œé»˜è®¤ 720ã€‚ä¸ `display_long_side` / `display_raw` äº’æ–¥ |
| `display_long_side` | number | é»˜è®¤ç¼©æ”¾åˆ†è¾¨ç‡é•¿è¾¹é•¿åº¦ã€‚ä¸ `display_short_side` / `display_raw` äº’æ–¥ |
| `display_raw` | boolean | æ˜¯å¦ä½¿ç”¨åŸå§‹åˆ†è¾¨ç‡æˆªå›¾ã€‚ä¸ç¼©æ”¾åˆ†è¾¨ç‡è®¾ç½®äº’æ–¥ |
| `adb` | object | Adb æ§åˆ¶å™¨é…ç½®ï¼ˆV2 ä¸­ input/screencap ç”±æ¡†æ¶è‡ªåŠ¨æ£€æµ‹ï¼‰ |
| `win32` | object | Win32 æ§åˆ¶å™¨é…ç½® |
| `playcover` | object | PlayCover æ§åˆ¶å™¨é…ç½®ï¼ˆä»… macOSï¼‰ |

`win32` å­—æ®µï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|:--|:--|:--|
| `class_regex` | string | å¯é€‰ã€‚çª—å£ç±»åæ­£åˆ™ |
| `window_regex` | string | å¯é€‰ã€‚çª—å£æ ‡é¢˜æ­£åˆ™ |
| `mouse` | string | å¯é€‰ã€‚é¼ æ ‡æ§åˆ¶æ–¹å¼ |
| `keyboard` | string | å¯é€‰ã€‚é”®ç›˜æ§åˆ¶æ–¹å¼ |
| `screencap` | string | å¯é€‰ã€‚æˆªå›¾æ–¹å¼ |

`playcover` å­—æ®µï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|:--|:--|:--|
| `uuid` | string | å¯é€‰ã€‚ç›®æ ‡åº”ç”¨ Bundle Identifierï¼Œé»˜è®¤ `maa.playcover` |

### ä»»åŠ¡é…ç½®è¯¦è§£

#### å¤–éƒ¨é€šçŸ¥
- [å¤–éƒ¨é€šçŸ¥å¡«å†™æŒ‡å—](./docs/zh/å¤–éƒ¨é€šçŸ¥.md)

#### è‡ªå®šä¹‰å¸ƒå±€
- [è‡ªå®šä¹‰å¸ƒå±€è¯´æ˜](./docs/zh/è‡ªå®šä¹‰å¸ƒå±€.md)

| å­—æ®µ              |   ç±»å‹    |   é»˜è®¤å€¼   | è¯´æ˜            |
|:----------------|:-------:|:-------:|:--------------|
| `name`          | string  |    -    | ä»»åŠ¡æ˜¾ç¤ºåç§°        |
| `entry`         | string  |    -    | ä»»åŠ¡å…¥å£æ¥å£        |
| `default_check` | boolean | `false` | æ˜¯å¦é»˜è®¤é€‰ä¸­        |
| `description`   | string  | `null`  | ä»»åŠ¡è¯´æ˜æ–‡æ¡£ï¼ˆæ”¯æŒå¯Œæ–‡æœ¬ï¼‰ |
| `repeatable`    | boolean | `false` | æ˜¯å¦å¯é‡å¤æ‰§è¡Œ       |
| `repeat_count`  | number  |   `1`   | é»˜è®¤é‡å¤æ¬¡æ•°        |

### ğŸ“ å¯Œæ–‡æœ¬æ ¼å¼

ä»»åŠ¡æ–‡æ¡£ (`doc`) æ”¯æŒä»¥ä¸‹æ ¼å¼ï¼š

- **Markdown** - æ”¯æŒå¤§éƒ¨åˆ†æ ‡å‡†è¯­æ³•
- **HTML** - æ”¯æŒéƒ¨åˆ†æ ‡ç­¾
- **è‡ªå®šä¹‰æ ‡è®°** - æ‰©å±•æ ·å¼æ”¯æŒ

| æ ‡è®°                      | æ•ˆæœ         | ç¤ºä¾‹                        |
|:------------------------|:-----------|:--------------------------|
| `[color:é¢œè‰²]...[/color]` | æ–‡å­—é¢œè‰²       | `[color:red]çº¢è‰²æ–‡å­—[/color]` |
| `[b]...[/b]`            | **ç²—ä½“**     | `[b]ç²—ä½“æ–‡å­—[/b]`             |
| `[i]...[/i]`            | *æ–œä½“*       | `[i]æ–œä½“æ–‡å­—[/i]`             |
| `[u]...[/u]`            | <u>ä¸‹åˆ’çº¿</u> | `[u]ä¸‹åˆ’çº¿æ–‡å­—[/u]`            |
| `[s]...[/s]`            | ~~åˆ é™¤çº¿~~    | `[s]åˆ é™¤çº¿æ–‡å­—[/s]`            |

### ğŸ¯ Focus åè®®

`focus` ç”¨äºåœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­è¾“å‡ºå…³é”®æç¤ºã€Toast æˆ–æ—¥å¿—ã€‚æ”¯æŒ **æ—§åè®®** ä¸ **æ–°åè®®**ï¼Œå†™åœ¨ä»»åŠ¡èŠ‚ç‚¹ä¸­ï¼š

- **æ—§åè®®**ï¼šå­—æ®µ `start / succeeded / failed / toast / aborted`
- **æ–°åè®®**ï¼šä»¥ **æ¶ˆæ¯ç±»å‹** ä¸ºé”®ï¼Œå€¼ä¸ºå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„

æ¶ˆæ¯ç±»å‹ä½¿ç”¨ MaaFramework çš„èŠ‚ç‚¹äº‹ä»¶å¸¸é‡ï¼Œä¾‹å¦‚ï¼š
- è¯†åˆ«é˜¶æ®µï¼š`Node.Recognition.Starting` / `Node.Recognition.Succeeded` / `Node.Recognition.Failed`
- åŠ¨ä½œé˜¶æ®µï¼š`Node.Action.Starting` / `Node.Action.Succeeded` / `Node.Action.Failed`

æ–°åè®®ä¼šæŒ‰æ¶ˆæ¯ç±»å‹åŒ¹é…å¹¶æ¸²æŸ“åˆ°æ—¥å¿—ã€‚

**æ—§åè®®ç¤ºä¾‹ï¼š**
```jsonc
{
  "focus": {
    "start": ["[color:cyan]å¼€å§‹æ‰§è¡Œ[/color]"],
    "succeeded": ["[color:green]ä»»åŠ¡å®Œæˆ[/color]"],
    "failed": ["[color:red]ä»»åŠ¡å¤±è´¥[/color]"],
    "toast": ["æç¤ºæ ‡é¢˜", "æç¤ºå†…å®¹"],
    "aborted": true
  }
}
```

**æ—§åè®®å­—æ®µè¯´æ˜ï¼š**
- `toast`ï¼šæ•°ç»„é•¿åº¦ >= 1 æ—¶å¼¹å‡º Toastï¼›ç¬¬ 1 é¡¹ä¸ºæ ‡é¢˜ï¼Œç¬¬ 2 é¡¹ä¸ºå†…å®¹ï¼ˆå¯çœç•¥ï¼‰
- `aborted`ï¼šä¸º `true` æ—¶åœ¨ `Starting` é˜¶æ®µè§¦å‘ä¸­æ­¢å›è°ƒï¼ˆç”¨äºä¸­æ–­ä»»åŠ¡ï¼‰

**æ–°åè®®ç¤ºä¾‹ï¼š**
```jsonc
{
  "focus": {
    "Node.Action.Starting": "å¼€å§‹ï¼š{name}",
    "Node.Action.Succeeded": "å®Œæˆ: {name}",
    "Node.Action.Failed": "å¤±è´¥IDï¼š{action_id}"
  }
}
```

**å ä½ç¬¦ä¸å˜é‡ï¼š**
- `{key}` ä¼šä» `details` ä¸­æ›¿æ¢å¯¹åº”å­—æ®µ
- æ—§åè®®ä¸­çš„æ—¥å¿—/Toast æ”¯æŒè®¡æ•°å˜é‡ï¼Œå¦‚ `{count}`ã€`{++count}`ã€`{count++}`ã€`{count+1}`

## ğŸ§ª é«˜çº§åŠŸèƒ½

### Advanced å­—æ®µï¼ˆå®éªŒæ€§ï¼‰

> [!TIP]
> æ¨èä½¿ç”¨ [InterfaceV2](https://github.com/MaaXYZ/MaaFramework/blob/main/docs/zh_cn/3.3-ProjectInterfaceV2%E5%8D%8F%E8%AE%AE.md)  çš„ input ç±»å‹
>

`advanced` å­—æ®µå…è®¸é€šè¿‡ UI è¾“å…¥æ¡†åŠ¨æ€é…ç½® `pipeline_override`ï¼Œä¸ºç”¨æˆ·æä¾›æ›´çµæ´»çš„è‡ªå®šä¹‰é€‰é¡¹ã€‚

<details>
<summary><b>ğŸ“– æŸ¥çœ‹é…ç½®ç¤ºä¾‹</b></summary>

```jsonc
{
  "task": [
    {    
      "name": "æµ‹è¯•ä»»åŠ¡",
      "entry": "ä»»åŠ¡A",
      "advanced": ["é«˜çº§è®¾ç½®A", "é«˜çº§è®¾ç½®B"]
    }
  ],
  "advanced": {
    "é«˜çº§è®¾ç½®A": {
      "field": "template_name",
      "type": "string",
      "default": "default.png",
      "pipeline_override": {
        "ä»»åŠ¡A": {
          "template": "{template_name}"
        }
      }
    },
    "é«˜çº§è®¾ç½®B": {
      "field": ["x", "y"],
      "type": ["int", "int"],
      "default": ["100", "200"],
      "pipeline_override": {
        "ä»»åŠ¡A": {
          "roi": ["{x}", "{y}", 50, 50]
        }
      }
    }
  }
}
```

**å­—æ®µè¯´æ˜ï¼š**

- `field` - å­—æ®µåç§°ï¼Œæ”¯æŒ `string` æˆ– `string[]`
- `type` - å­—æ®µç±»å‹ï¼Œæ”¯æŒ `string` æˆ– `string[]`
- `default` - é»˜è®¤å€¼ï¼Œæ”¯æŒ `string` æˆ– `string[]`

</details>

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¤šè¯­è¨€æ”¯æŒ

åœ¨ `interface.json` åŒçº§ç›®å½•åˆ›å»º `lang` æ–‡ä»¶å¤¹ï¼Œæ·»åŠ è¯­è¨€æ–‡ä»¶ï¼š

```
lang/
â”œâ”€â”€ zh-cn.json  # ç®€ä½“ä¸­æ–‡
â”œâ”€â”€ zh-tw.json  # ç¹ä½“ä¸­æ–‡
â””â”€â”€ en-us.json  # English
```

åŒæ—¶éœ€è¦åœ¨ `interface.json` ä¸­æ–°å¢å¤šè¯­è¨€å­—æ®µï¼ˆè·¯å¾„ç›¸å¯¹äº `interface.json`ï¼‰ï¼š

```jsonc
{
  "languages": {
    "zh-cn": "lang/zh-cn.json",
    "zh-tw": "lang/zh-tw.json",
    "en-us": "lang/en-us.json"
  }
}
```

ä»»åŠ¡åç§°å’Œæ–‡æ¡£å¯ä½¿ç”¨ key å¼•ç”¨ï¼ŒMFAAvalonia ä¼šæ ¹æ®è¯­è¨€è®¾ç½®è‡ªåŠ¨åŠ è½½å¯¹åº”ç¿»è¯‘ã€‚

### å…¬å‘Šç³»ç»Ÿ

å°† `.md` æ–‡ä»¶æ”¾å…¥ `resource/announcement/` ç›®å½•å³å¯ä½œä¸ºå…¬å‘Šæ˜¾ç¤ºã€‚èµ„æºæ›´æ–°æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½ Changelog ä½œä¸ºå…¬å‘Šã€‚

### å¯åŠ¨å‚æ•°

```bash
# ä½¿ç”¨æŒ‡å®šé…ç½®æ–‡ä»¶å¯åŠ¨
MFAAvalonia -c é…ç½®åç§°
```

### è‡ªå®šä¹‰å›¾æ ‡

å°† `logo.ico` æ”¾ç½®åœ¨ç¨‹åºæ ¹ç›®å½•çš„ `Assets` æ–‡ä»¶å¤¹é‡Œå³å¯æ›¿æ¢çª—å£å›¾æ ‡ã€‚

## ğŸ“„ å¼€æºè®¸å¯

æœ¬é¡¹ç›®åŸºäº **[GPL-3.0 License](./LICENSE)** å¼€æºã€‚

## ğŸ™ è‡´è°¢

### å¼€æºé¡¹ç›®

| é¡¹ç›® | æè¿° |
|:---|:---|
| [**SukiUI**](https://github.com/kikipoulet/SukiUI) | Avalonia æ¡Œé¢ UI åº“ |
| [**MaaFramework**](https://github.com/MaaAssistantArknights/MaaFramework) | å›¾åƒè¯†åˆ«è‡ªåŠ¨åŒ–æ¡†æ¶ |
| [**MaaFramework.Binding.CSharp**](https://github.com/MaaXYZ/MaaFramework.Binding.CSharp) | MaaFramework çš„ C# å°è£… |
| [**Mirroré…±**](https://github.com/MirrorChyan/docs) | èµ„æºæ›´æ–°æœåŠ¡ |
| [**Serilog**](https://github.com/serilog/serilog) | ç»“æ„åŒ–æ—¥å¿—åº“ |
| [**Newtonsoft.Json**](https://github.com/JamesNK/Newtonsoft.Json) | é«˜æ€§èƒ½ JSON åºåˆ—åŒ–åº“ |
| [**AvaloniaExtensions.Axaml**](https://github.com/dotnet9/AvaloniaExtensions) | Avalonia è¯­æ³•ç³–æ‰©å±• |
| [**CalcBindingAva**](https://github.com/netwww1/CalcBindingAva) | XAML è®¡ç®—ç»‘å®šæ‰©å±• |

### è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸º MFAAvalonia åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼

<a href="https://github.com/SweetSmellFox/MFAAvalonia/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=SweetSmellFox/MFAAvalonia&max=1000" alt="Contributors"/>
</a>

<div align="center">
**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼**

[![Star History Chart](https://api.star-history.com/svg?repos=SweetSmellFox/MFAAvalonia&type=Date)](https://star-history.com/#SweetSmellFox/MFAAvalonia&Date)

</div>



